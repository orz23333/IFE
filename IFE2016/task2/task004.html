<!DOCTYPE html>
<html>

  <head>
    <meta charset="utf-8">
    <title>IFE JavaScript Task 01</title>
  </head>

  <body>

    <h3>污染城市列表</h3>
    <ul id="aqi-list">
    </ul>

    <script type="text/javascript">
      var aqiData = [
        ["北京", 90],
        ["上海", 50],
        ["福州", 10],
        ["广州", 50],
        ["成都", 90],
        ["西安", 100]
      ];

      (function () {
        function sortFn(n, m) {
          if (n[1] >= m[1]) {
            return -1;
          }
          return 1
        }


        function filter(data, rule) {
          if (data > rule) {
            return true;
          }
          return false;
        }

        function addDom(element, data, parent) {
          var pre = document.createElement('pre');
          var e = document.createElement(element);
          pre.textContent = '城市：' + data[0] + '    空气质量: ' + data[1];
          parent.appendChild(e);
          e.appendChild(pre);
        }

        let ul = document.body.querySelector('#aqi-list');
        aqiData = aqiData.sort(sortFn);
        for (let i = 0; i < aqiData.length; i++) {
          let rank = 1;
          const element = aqiData[i];
          if (filter(element[1], 60)) {
            addDom('li', element, ul)
          }
        }

      })();
    </script>
  </body>

</html>